(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-edcd34e8"],{"1dde":function(e,t,a){var r=a("d039"),l=a("b622"),o=a("2d00"),n=l("species");e.exports=function(e){return o>=51||!r((function(){var t=[],a=t.constructor={};return a[n]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"3ed1":function(e,t,a){},"548d":function(e,t,a){"use strict";a.d(t,"e",(function(){return l})),a.d(t,"f",(function(){return o})),a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return c}));var r=a("b775");function l(e){return Object(r["a"])({url:"/hero/add",method:"post",data:e})}function o(e){return Object(r["a"])({url:"/hero/update",method:"put",data:e})}function n(e){return Object(r["a"])({url:"/hero/delete",method:"delete",params:e})}function s(e){return Object(r["a"])({url:"/hero/cate",method:"get",params:e})}function i(e){return Object(r["a"])({url:"/hero/list",method:"get",params:e})}function c(e){return Object(r["a"])({url:"/hero/item",method:"get",params:e})}},"65f0":function(e,t,a){var r=a("861d"),l=a("e8b5"),o=a("b622"),n=o("species");e.exports=function(e,t){var a;return l(e)&&(a=e.constructor,"function"!=typeof a||a!==Array&&!l(a.prototype)?r(a)&&(a=a[n],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===t?0:t)}},"6db7":function(e,t,a){"use strict";t["a"]={computed:{uploadUrl:function(){return"http://lol.moba.ltd/admin/upload/images"},uploadHeaders:function(){return{Authorization:localStorage.getItem("token")||""}}},methods:{uploadSuccess:function(e){this.model.icon=e.data.url},beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,a=e.size/1024/1024<5;return t||this.$message.error("上传图片只能是 JPG或PNG 格式!"),a||this.$message.error("上传图片大小不能超过 5MB!"),t&&a}}}},8418:function(e,t,a){"use strict";var r=a("c04e"),l=a("9bf2"),o=a("5c6c");e.exports=function(e,t,a){var n=r(t);n in e?l.f(e,n,o(0,a)):e[n]=a}},a434:function(e,t,a){"use strict";var r=a("23e7"),l=a("23cb"),o=a("a691"),n=a("50c4"),s=a("7b0b"),i=a("65f0"),c=a("8418"),u=a("1dde"),d=a("ae40"),m=u("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,b=Math.min,h=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!m||!p},{splice:function(e,t){var a,r,u,d,m,p,g=s(this),x=n(g.length),k=l(e,x),y=arguments.length;if(0===y?a=r=0:1===y?(a=0,r=x-k):(a=y-2,r=b(f(o(t),0),x-k)),x+a-r>h)throw TypeError(v);for(u=i(g,r),d=0;d<r;d++)m=k+d,m in g&&c(u,d,g[m]);if(u.length=r,a<r){for(d=k;d<x-r;d++)m=d+r,p=d+a,m in g?g[p]=g[m]:delete g[p];for(d=x;d>x-r+a;d--)delete g[d-1]}else if(a>r)for(d=x-r;d>k;d--)m=d+r-1,p=d+a-1,m in g?g[p]=g[m]:delete g[p];for(d=0;d<a;d++)g[d+k]=arguments[d+2];return g.length=x-r+a,u}})},a640:function(e,t,a){"use strict";var r=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&r((function(){a.call(null,t||function(){throw 1},1)}))}},ae40:function(e,t,a){var r=a("83ab"),l=a("d039"),o=a("5135"),n=Object.defineProperty,s={},i=function(e){throw e};e.exports=function(e,t){if(o(s,e))return s[e];t||(t={});var a=[][e],c=!!o(t,"ACCESSORS")&&t.ACCESSORS,u=o(t,0)?t[0]:i,d=o(t,1)?t[1]:void 0;return s[e]=!!a&&!l((function(){if(c&&!r)return!0;var e={length:-1};c?n(e,1,{enumerable:!0,get:i}):e[1]=1,a.call(e,u,d)}))}},b0c0:function(e,t,a){var r=a("83ab"),l=a("9bf2").f,o=Function.prototype,n=o.toString,s=/^\s*function ([^ (]*)/,i="name";r&&!(i in o)&&l(o,i,{configurable:!0,get:function(){try{return n.call(this).match(s)[1]}catch(e){return""}}})},c10d:function(e,t,a){"use strict";var r=a("3ed1"),l=a.n(r);l.a},c40e:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"i",(function(){return o})),a.d(t,"a",(function(){return n})),a.d(t,"k",(function(){return s})),a.d(t,"f",(function(){return i})),a.d(t,"g",(function(){return c})),a.d(t,"e",(function(){return u})),a.d(t,"j",(function(){return d})),a.d(t,"b",(function(){return m})),a.d(t,"l",(function(){return p})),a.d(t,"h",(function(){return f})),a.d(t,"d",(function(){return b}));var r=a("b775");function l(e){return Object(r["a"])({url:"/equip/cate",method:"get",params:e})}function o(e){return Object(r["a"])({url:"/equip/add",method:"post",data:e})}function n(e){return Object(r["a"])({url:"/equip/delete",method:"delete",params:e})}function s(e){return Object(r["a"])({url:"/equip/update",method:"put",data:e})}function i(e){return Object(r["a"])({url:"/equip/list",method:"get",params:e})}function c(e){return Object(r["a"])({url:"/equip/item",method:"get",params:e})}function u(e){return Object(r["a"])({url:"/store/cate",method:"get",params:e})}function d(e){return Object(r["a"])({url:"/store/add",method:"post",data:e})}function m(e){return Object(r["a"])({url:"/store/delete",method:"delete",params:e})}function p(e){return Object(r["a"])({url:"/store/update",method:"put",data:e})}function f(e){return Object(r["a"])({url:"/store/list",method:"get",params:e})}function b(e){return Object(r["a"])({url:"/store/item",method:"get",params:e})}},c80a:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"hero-edit"}},[a("el-form",{attrs:{"label-position":"right","label-width":"100px",model:e.model}},[a("el-tabs",{attrs:{type:"border-card"},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[a("el-tab-pane",{staticClass:"tab-pane-one",attrs:{name:"one",label:"基本信息"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{placeholder:"请输入英雄名称"},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),a("el-form-item",{attrs:{label:"别名"}},[a("el-input",{attrs:{placeholder:"请输入英雄别名"},model:{value:e.model.alias,callback:function(t){e.$set(e.model,"alias",t)},expression:"model.alias"}})],1),a("el-form-item",{attrs:{label:"称号"}},[a("el-input",{attrs:{placeholder:"请输入英雄称号"},model:{value:e.model.title,callback:function(t){e.$set(e.model,"title",t)},expression:"model.title"}})],1),a("el-form-item",{attrs:{label:"热门"}},[a("el-switch",{model:{value:e.model.hot,callback:function(t){e.$set(e.model,"hot",t)},expression:"model.hot"}})],1),a("el-form-item",{staticClass:"star-left",attrs:{label:"所属分类"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.model.categories,callback:function(t){e.$set(e.model,"categories",t)},expression:"model.categories"}},e._l(e.heroCate,(function(e){return a("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),a("el-form-item",{staticClass:"star-right",attrs:{label:"符文推荐"}},[a("el-select",{attrs:{filterable:"",multiple:"",placeholder:"请选择"},model:{value:e.model.storeRecommend,callback:function(t){e.$set(e.model,"storeRecommend",t)},expression:"model.storeRecommend"}},e._l(e.storeList,(function(e){return a("el-option",{key:e._id,attrs:{label:e.categoryInfo[0].name+" -- "+e.name,value:e._id}})})),1)],1),a("el-form-item",{staticClass:"star-left",attrs:{label:"难度"}},[a("el-rate",{attrs:{max:9,"show-score":!0},model:{value:e.model.score.difficult,callback:function(t){e.$set(e.model.score,"difficult",t)},expression:"model.score.difficult"}})],1),a("el-form-item",{staticClass:"star-right",attrs:{label:"技能"}},[a("el-rate",{attrs:{max:9,"show-score":!0},model:{value:e.model.score.skill,callback:function(t){e.$set(e.model.score,"skill",t)},expression:"model.score.skill"}})],1),a("el-form-item",{staticClass:"star-left",attrs:{label:"攻击"}},[a("el-rate",{attrs:{max:9,"show-score":!0},model:{value:e.model.score.attack,callback:function(t){e.$set(e.model.score,"attack",t)},expression:"model.score.attack"}})],1),a("el-form-item",{staticClass:"star-right",attrs:{label:"生存"}},[a("el-rate",{attrs:{max:9,"show-score":!0},model:{value:e.model.score.survive,callback:function(t){e.$set(e.model.score,"survive",t)},expression:"model.score.survive"}})],1),a("el-form-item",{staticClass:"star-left",attrs:{label:"头像"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,"show-file-list":!1,headers:e.uploadHeaders,"on-success":e.uploadAvatar,"before-upload":e.beforeUpload}},[e.model.avatar?a("img",{staticClass:"avatar",attrs:{src:e.model.avatar}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{staticClass:"star-right",attrs:{label:"背景图"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,"show-file-list":!1,headers:e.uploadHeaders,"on-success":e.uploadBanner,"before-upload":e.beforeUpload}},[e.model.banner?a("img",{staticClass:"banner",attrs:{src:e.model.banner}}):a("i",{staticClass:"el-icon-plus banner-uploader-icon"})])],1),a("el-form-item",{staticClass:"star-left",attrs:{label:"顺风出装"}},[a("el-select",{attrs:{filterable:"",multiple:"",placeholder:"请选择"},model:{value:e.model.luckyEquip,callback:function(t){e.$set(e.model,"luckyEquip",t)},expression:"model.luckyEquip"}},e._l(e.equipList,(function(e){return a("el-option",{key:e._id,attrs:{label:e.categoryInfo[0].name+" -- "+e.name,value:e._id}})})),1)],1),a("el-form-item",{staticClass:"star-right",attrs:{label:"逆风出装"}},[a("el-select",{attrs:{filterable:"",multiple:"",placeholder:"请选择"},model:{value:e.model.shitEquip,callback:function(t){e.$set(e.model,"shitEquip",t)},expression:"model.shitEquip"}},e._l(e.equipList,(function(e){return a("el-option",{key:e._id,attrs:{label:e.categoryInfo[0].name+" -- "+e.name,value:e._id}})})),1)],1),a("el-form-item",{staticClass:"star-left",attrs:{label:"介绍视频"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,"show-file-list":!1,headers:e.uploadHeaders,"on-success":e.uploadVideo,"before-upload":e.beforeVideo}},[e.model.showVideo?a("video",{staticClass:"banner",attrs:{controls:"",src:e.model.showVideo}}):a("i",{staticClass:"el-icon-plus banner-uploader-icon"})])],1),a("el-form-item",{staticClass:"star-right",attrs:{label:"介绍图片"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,"show-file-list":!1,headers:e.uploadHeaders,"on-success":e.uploadImage,"before-upload":e.beforeUpload}},[e.model.showImage?a("img",{staticClass:"banner",attrs:{src:e.model.showImage}}):a("i",{staticClass:"el-icon-plus banner-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"背景故事"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入英雄背景故事"},model:{value:e.model.backStory,callback:function(t){e.$set(e.model,"backStory",t)},expression:"model.backStory"}})],1),a("el-form-item",{attrs:{label:"使用技巧"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入使用技巧"},model:{value:e.model.usageTips,callback:function(t){e.$set(e.model,"usageTips",t)},expression:"model.usageTips"}})],1),a("el-form-item",{attrs:{label:"对抗技巧"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入对抗技巧"},model:{value:e.model.battleTips,callback:function(t){e.$set(e.model,"battleTips",t)},expression:"model.battleTips"}})],1),a("el-form-item",{attrs:{label:"团战思路"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入团战思路"},model:{value:e.model.teamTips,callback:function(t){e.$set(e.model,"teamTips",t)},expression:"model.teamTips"}})],1)],1),a("el-tab-pane",{staticClass:"tab-pane-two",attrs:{name:"two",label:"技能"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addSkill}},[a("i",{staticClass:"el-icon-plus",staticStyle:{"margin-right":"5px"}}),e._v("添加技能 ")]),a("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex",gutter:30}},e._l(e.model.skills,(function(t,r){return a("el-col",{key:r,staticStyle:{"margin-top":"30px"},attrs:{md:12}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{placeholder:"请输入技能名称"},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}})],1),a("el-form-item",{attrs:{label:"图标"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,"show-file-list":!1,headers:e.uploadHeaders,"on-success":e.uploadSkill,"before-upload":e.beforeUpload}},[t.icon?a("img",{staticClass:"avatar",attrs:{src:t.icon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon",on:{click:function(t){e.uploadSkillIndex=r}}})])],1),a("el-form-item",{attrs:{label:"冷却值"}},[a("el-input",{attrs:{placeholder:"请输入冷却值"},model:{value:t.cooling,callback:function(a){e.$set(t,"cooling",a)},expression:"item.cooling"}})],1),a("el-form-item",{attrs:{label:"消耗值"}},[a("el-input",{attrs:{placeholder:"请输入消耗值"},model:{value:t.consume,callback:function(a){e.$set(t,"consume",a)},expression:"item.consume"}})],1),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入技能描述"},model:{value:t.description,callback:function(a){e.$set(t,"description",a)},expression:"item.description"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.delSkill(r)}}},[e._v("删除")])],1)],1)})),1)],1),a("el-tab-pane",{staticClass:"tab-pane-three",attrs:{name:"three",label:"皮肤"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addSkin}},[a("i",{staticClass:"el-icon-plus",staticStyle:{"margin-right":"5px"}}),e._v("添加皮肤 ")]),a("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex",gutter:30}},e._l(e.model.skins,(function(t,r){return a("el-col",{key:r,staticStyle:{"margin-top":"30px"},attrs:{md:12}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{placeholder:"请输入皮肤名称"},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}})],1),a("el-form-item",{attrs:{label:"设计图"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,"show-file-list":!1,headers:e.uploadHeaders,"on-success":e.uploadSkin,"before-upload":e.beforeUpload}},[t.banner?a("img",{staticClass:"banner",attrs:{src:t.banner}}):a("i",{staticClass:"el-icon-plus banner-uploader-icon",on:{click:function(t){e.uploadSkinIndex=r}}})])],1),a("el-form-item",[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.delSkin(r)}}},[e._v("删除")])],1)],1)})),1)],1),a("el-tab-pane",{staticClass:"tab-pane-four",attrs:{name:"four",label:"英雄关系"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.addHeroRelate("partners")}}},[a("i",{staticClass:"el-icon-plus",staticStyle:{"margin-right":"5px"}}),e._v("最佳搭档 ")]),a("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex",gutter:30}},e._l(e.model.partners,(function(t,r){return a("el-col",{key:r,staticStyle:{"margin-top":"30px"},attrs:{md:12}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.hero,callback:function(a){e.$set(t,"hero",a)},expression:"item.hero"}},e._l(e.heroList,(function(e){return a("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入搭档描述"},model:{value:t.description,callback:function(a){e.$set(t,"description",a)},expression:"item.description"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.delHeroRelate(r,"partners")}}},[e._v("删除")])],1)],1)})),1),a("el-divider",{attrs:{"content-position":"center"}},[e._v("hero")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.addHeroRelate("enemies")}}},[a("i",{staticClass:"el-icon-plus",staticStyle:{"margin-right":"5px"}}),e._v("被谁克制 ")]),a("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex",gutter:30}},e._l(e.model.enemies,(function(t,r){return a("el-col",{key:r,staticStyle:{"margin-top":"30px"},attrs:{md:12}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.hero,callback:function(a){e.$set(t,"hero",a)},expression:"item.hero"}},e._l(e.heroList,(function(e){return a("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入被克制描述"},model:{value:t.description,callback:function(a){e.$set(t,"description",a)},expression:"item.description"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.delHeroRelate(r,"enemies")}}},[e._v("删除")])],1)],1)})),1),a("el-divider",{attrs:{"content-position":"center"}},[e._v("hero")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.addHeroRelate("preies")}}},[a("i",{staticClass:"el-icon-plus",staticStyle:{"margin-right":"5px"}}),e._v("克制谁 ")]),a("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex",gutter:30}},e._l(e.model.preies,(function(t,r){return a("el-col",{key:r,staticStyle:{"margin-top":"30px"},attrs:{md:12}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.hero,callback:function(a){e.$set(t,"hero",a)},expression:"item.hero"}},e._l(e.heroList,(function(e){return a("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入克制描述"},model:{value:t.description,callback:function(a){e.$set(t,"description",a)},expression:"item.description"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.delHeroRelate(r,"preies")}}},[e._v("删除")])],1)],1)})),1)],1),a("el-tab-pane",{staticClass:"tab-pane-five",attrs:{name:"five",label:"英雄攻略"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addStrategy}},[a("i",{staticClass:"el-icon-plus",staticStyle:{"margin-right":"5px"}}),e._v("添加攻略 ")]),a("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex",gutter:30}},e._l(e.model.strategies,(function(t,r){return a("el-col",{key:r,staticStyle:{"margin-top":"30px"},attrs:{md:12}},[a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{attrs:{placeholder:"请输入视频标题"},model:{value:t.title,callback:function(a){e.$set(t,"title",a)},expression:"item.title"}})],1),a("el-form-item",{attrs:{label:"上传日期"}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp",placeholder:"选择日期"},model:{value:t.date,callback:function(a){e.$set(t,"date",a)},expression:"item.date"}})],1),a("el-form-item",{attrs:{label:"播放量"}},[a("el-input",{attrs:{placeholder:"请输入视频播放量"},model:{value:t.play,callback:function(a){e.$set(t,"play",a)},expression:"item.play"}})],1),a("el-form-item",{attrs:{label:"封面"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,"show-file-list":!1,headers:e.uploadHeaders,"on-success":e.uploadStrategy,"before-upload":e.beforeUpload}},[t.cover?a("img",{staticClass:"banner",attrs:{src:t.cover}}):a("i",{staticClass:"el-icon-plus banner-uploader-icon",on:{click:function(t){e.uploadStrategyIndex=r}}})])],1),a("el-form-item",{attrs:{label:"视频"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,"show-file-list":!1,headers:e.uploadHeaders,"on-success":e.uploadStrategy}},[t.video?a("video",{staticClass:"banner",attrs:{controls:"",src:t.video}}):a("i",{staticClass:"el-icon-plus banner-uploader-icon",on:{click:function(t){e.uploadStrategyIndex=r}}})])],1),a("el-form-item",[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.delStrategy(r)}}},[e._v("删除")])],1)],1)})),1)],1)],1)],1),a("div",{staticClass:"save"},[a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1)],1)},l=[],o=(a("c975"),a("a434"),a("b0c0"),a("96cf"),a("1da1")),n=a("548d"),s=a("c40e"),i=a("6db7");function c(){return{name:"",avatar:"",alias:"",title:"",hot:!1,categories:[],score:{difficult:0,skill:0,attack:0,survive:0},luckyEquip:[],shitEquip:[],storeRecommend:[],banner:"",showVideo:"",showImage:"",backStory:"",usageTips:"",battleTips:"",teamTips:"",skills:[],skins:[],strategies:[],partners:[],enemies:[],preies:[]}}var u={name:"HeroEdit",mixins:[i["a"]],props:["id"],data:function(){return{model:c(),tabIndex:"one",heroCate:[],heroList:[],equipList:[],storeList:[],uploadSkillIndex:0,uploadSkinIndex:0,uploadStrategyIndex:0}},watch:{$route:function(){this.tabIndex="one",this.id?this.getHeroItem():this.model=c()}},mounted:function(){this.fetchEquip(),this.fetchStore(),this.fetchHeroTwo(),this.fetchHero(),this.id&&this.getHeroItem()},methods:{save:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.model,r=e.id,a.name){t.next=5;break}return e.$message.error("名称不能为空"),t.abrupt("return");case 5:if(!r){t.next=11;break}return t.next=8,Object(n["f"])({id:r,heroItem:a});case 8:l=t.sent,t.next=14;break;case 11:return t.next=13,Object(n["e"])({heroItem:a});case 13:l=t.sent;case 14:if(1!=l.status){t.next=17;break}return e.$message.error(l.msg),t.abrupt("return");case 17:e.$message.success(l.msg),e.$router.push("/hero/heroList");case 19:case"end":return t.stop()}}),t)})))()},getHeroItem:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["b"])({id:e.id});case 2:a=t.sent,e.model=Object.assign({},e.model,a.data);case 4:case"end":return t.stop()}}),t)})))()},fetchEquip:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["f"])({page:1,pageSize:999});case 2:a=t.sent,e.equipList=a.data.equipList;case 4:case"end":return t.stop()}}),t)})))()},fetchStore:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["h"])({page:1,pageSize:999});case 2:a=t.sent,e.storeList=a.data.storeList;case 4:case"end":return t.stop()}}),t)})))()},fetchHeroTwo:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["c"])();case 2:a=t.sent,e.heroCate=a.data;case 4:case"end":return t.stop()}}),t)})))()},fetchHero:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["d"])({page:1,pageSize:999});case 2:a=t.sent,e.heroList=a.data.heroList;case 4:case"end":return t.stop()}}),t)})))()},addSkill:function(){this.model.skills.push({name:"",icon:"",cooling:"",consume:"",description:""})},delSkill:function(e){var t=this;this.$confirm("确认要删除该技能?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.model.skills.splice(e,1),t.$message.success("删除成功")}))},addSkin:function(){this.model.skins.push({name:"",banner:""})},delSkin:function(e){var t=this;this.$confirm("确认要删除该皮肤?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.model.skins.splice(e,1),t.$message.success("删除成功")}))},addStrategy:function(){this.model.strategies.push({title:"",cover:"",play:"",date:"",video:""})},delStrategy:function(e){var t=this;this.$confirm("确认要删除该攻略?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.model.strategies.splice(e,1),t.$message.success("删除成功")}))},addHeroRelate:function(e){this.model[e].push({hero:"",description:""})},delHeroRelate:function(e,t){var a=this;this.$confirm("确认要删除该英雄关系?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.model[t].splice(e,1),a.$message.success("删除成功")}))},beforeVideo:function(e){if(-1==e.type.indexOf("video"))return this.$message.error("上传的文件不符合格式"),!1},uploadAvatar:function(e){this.model.avatar=e.data.url},uploadBanner:function(e){this.model.banner=e.data.url},uploadImage:function(e){this.model.showImage=e.data.url},uploadVideo:function(e){this.model.showVideo=e.data.url},uploadSkill:function(e){this.model.skills[this.uploadSkillIndex].icon=e.data.url},uploadSkin:function(e){this.model.skins[this.uploadSkinIndex].banner=e.data.url},uploadStrategy:function(e){e=e.data,-1!=e.mimetype.indexOf("video")?this.model.strategies[this.uploadStrategyIndex].video=e.url:this.model.strategies[this.uploadStrategyIndex].cover=e.url}}},d=u,m=(a("c10d"),a("2877")),p=Object(m["a"])(d,r,l,!1,null,"61f4df1a",null);t["default"]=p.exports},c975:function(e,t,a){"use strict";var r=a("23e7"),l=a("4d64").indexOf,o=a("a640"),n=a("ae40"),s=[].indexOf,i=!!s&&1/[1].indexOf(1,-0)<0,c=o("indexOf"),u=n("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:i||!c||!u},{indexOf:function(e){return i?s.apply(this,arguments)||0:l(this,e,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(e,t,a){var r=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}}}]);
//# sourceMappingURL=chunk-edcd34e8.cdddf44a.js.map