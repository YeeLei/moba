(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4231bb48"],{"163c":function(e,t,n){"use strict";var r=n("e148"),a=n.n(r);a.a},8593:function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"k",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"h",(function(){return d})),n.d(t,"j",(function(){return l})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return p}));var r=n("b775");function a(e){return Object(r["a"])({url:"/categories/add",method:"post",data:e})}function u(e){return Object(r["a"])({url:"/categories/update",method:"put",data:e})}function c(e){return Object(r["a"])({url:"/categories/delete",method:"delete",params:e})}function i(e){return Object(r["a"])({url:"/categories/levelOne",method:"get",params:e})}function s(e){return Object(r["a"])({url:"/categories/levelTwo",method:"get",params:e})}function o(e){return Object(r["a"])({url:"/categories/item",method:"get",params:e})}function d(e){return Object(r["a"])({url:"/ads/add",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/ads/update",method:"put",data:e})}function m(e){return Object(r["a"])({url:"/ads/delete",method:"delete",params:e})}function f(e){return Object(r["a"])({url:"/ads/list",method:"get",params:e})}function p(e){return Object(r["a"])({url:"/ads/item",method:"get",params:e})}},b0c0:function(e,t,n){var r=n("83ab"),a=n("9bf2").f,u=Function.prototype,c=u.toString,i=/^\s*function ([^ (]*)/,s="name";r&&!(s in u)&&a(u,s,{configurable:!0,get:function(){try{return c.call(this).match(i)[1]}catch(e){return""}}})},e148:function(e,t,n){},e40e:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"cate-edit"}},[n("el-card",{staticClass:"box-card"},[n("h1",{staticClass:"title"},[e._v(e._s(e.id?"编辑":"新建")+"分类")]),n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.model.parent,callback:function(t){e.$set(e.model,"parent",t)},expression:"model.parent"}},[n("el-option",{attrs:{label:"无上级分类",value:"",disabled:e.id&&!e.editFlag}}),e._l(e.level,(function(t){return n("el-option",{key:t._id,attrs:{label:t.name,value:t._id,disabled:e.id&&e.editFlag}})}))],2),n("el-input",{attrs:{placeholder:"请输入分类名称"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)}},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}}),n("div",{staticClass:"save"},[n("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1)],1)],1)},a=[],u=(n("b0c0"),n("96cf"),n("1da1")),c=n("8593"),i={name:"CateEdit",props:["id"],data:function(){return{model:{name:"",parent:""},level:[],editFlag:!0}},watch:{$route:function(){this.id?this.fetchItem():(this.model.name="",this.model.parent="")}},mounted:function(){this.fetchOne(),this.id&&this.fetchItem()},methods:{save:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r,a,u,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.model,r=n.name,a=n.parent,u=e.id,r){t.next=5;break}return e.$message.error("分类名称不能为空"),t.abrupt("return");case 5:if(!u){t.next=11;break}return t.next=8,Object(c["k"])({id:u,name:r,parent:a});case 8:i=t.sent,t.next=14;break;case 11:return t.next=13,Object(c["i"])({name:r,parent:a});case 13:i=t.sent;case 14:if(1!=i.status){t.next=17;break}return e.$message.error(i.msg),t.abrupt("return");case 17:e.$message.success(i.msg),e.$router.push("/system/cateList");case 19:case"end":return t.stop()}}),t)})))()},fetchOne:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["f"])();case 2:n=t.sent,e.level=n.data;case 4:case"end":return t.stop()}}),t)})))()},fetchItem:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["e"])({id:e.id});case 2:n=t.sent,e.model.name=n.data.name,e.model.parent=n.data.parent?n.data.parent:"",e.editFlag=!n.data.parent;case 6:case"end":return t.stop()}}),t)})))()}}},s=i,o=(n("163c"),n("2877")),d=Object(o["a"])(s,r,a,!1,null,"478731bf",null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-4231bb48.c127d111.js.map