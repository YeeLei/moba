{"version":3,"sources":["webpack:///./src/views/resources/VideoEdit.vue?879b","webpack:///src/views/resources/VideoEdit.vue","webpack:///./src/views/resources/VideoEdit.vue?59ac","webpack:///./src/views/resources/VideoEdit.vue","webpack:///./src/api/resource.js","webpack:///./src/assets/javascript/mixins_upload.js","webpack:///./src/views/resources/VideoEdit.vue?ea60","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/internals/array-method-uses-to-length.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/core-js/modules/es.array.index-of.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","id","model","value","callback","$$v","$set","expression","_l","item","key","_id","name","uploadUrl","uploadHeaders","uploadVideo","beforeUpload","cover","video","on","save","staticRenderFns","mixins","mixins_upload","props","data","title","category","play","author","JSON","parse","localStorage","getItem","videoCate","watch","$route","fetchVideoItem","mounted","fetchVideoTwo","methods","res","mimetype","indexOf","url","component","saveArticle","request","method","deleteArticle","params","updateArticle","fetchArticle","fetchArticleTwo","fetchArticleItem","savePicarticle","deletePicarticle","updatePicarticle","fetchPicarticle","fetchPicarticleTwo","fetchPicarticleItem","uploadEditorFile","saveVideo","deleteVideo","updateVideo","fetchVideo","computed","process","uploadSuccess","icon","file","isJPG","type","isLt5M","size","$message","error","fails","module","exports","METHOD_NAME","argument","call","DESCRIPTORS","has","defineProperty","Object","cache","thrower","it","options","ACCESSORS","argument0","argument1","undefined","O","length","enumerable","get","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","match","$","$indexOf","arrayMethodIsStrict","arrayMethodUsesToLength","nativeIndexOf","NEGATIVE_ZERO","STRICT_METHOD","USES_TO_LENGTH","1","target","proto","forced","searchElement","apply","arguments"],"mappings":"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","file":"js/chunk-57a6f7a4.821f9790.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"video-edit\"}},[_c('el-card',{staticClass:\"box-card\"},[_c('h1',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.id ? '编辑' : '新建')+\"视频\")]),_c('el-form',{attrs:{\"label-position\":\"right\",\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"标题\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入视频标题\"},model:{value:(_vm.model.title),callback:function ($$v) {_vm.$set(_vm.model, \"title\", $$v)},expression:\"model.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"所属分类\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.model.category),callback:function ($$v) {_vm.$set(_vm.model, \"category\", $$v)},expression:\"model.category\"}},_vm._l((_vm.videoCate),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.name,\"value\":item._id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"上传日期\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"format\":\"yyyy 年 MM 月 dd 日\",\"value-format\":\"timestamp\",\"placeholder\":\"选择日期\"},model:{value:(_vm.model.date),callback:function ($$v) {_vm.$set(_vm.model, \"date\", $$v)},expression:\"model.date\"}})],1),_c('el-form-item',{attrs:{\"label\":\"播放量\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入视频播放量\"},model:{value:(_vm.model.play),callback:function ($$v) {_vm.$set(_vm.model, \"play\", $$v)},expression:\"model.play\"}})],1),_c('el-form-item',{attrs:{\"label\":\"封面\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.uploadUrl,\"show-file-list\":false,\"headers\":_vm.uploadHeaders,\"on-success\":_vm.uploadVideo,\"before-upload\":_vm.beforeUpload}},[(_vm.model.cover)?_c('img',{staticClass:\"banner\",attrs:{\"src\":_vm.model.cover}}):_c('i',{staticClass:\"el-icon-plus banner-uploader-icon\"})])],1),_c('el-form-item',{attrs:{\"label\":\"视频\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.uploadUrl,\"show-file-list\":false,\"headers\":_vm.uploadHeaders,\"on-success\":_vm.uploadVideo}},[(_vm.model.video)?_c('video',{staticClass:\"banner\",attrs:{\"controls\":\"\",\"src\":_vm.model.video}}):_c('i',{staticClass:\"el-icon-plus banner-uploader-icon\"})])],1)],1),_c('div',{staticClass:\"save\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"video-edit\">\n    <el-card class=\"box-card\">\n      <h1 class=\"title\">{{ id ? '编辑' : '新建' }}视频</h1>\n      <el-form label-position=\"right\" label-width=\"100px\">\n        <el-form-item label=\"标题\">\n          <el-input v-model=\"model.title\" placeholder=\"请输入视频标题\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"所属分类\">\n          <el-select v-model=\"model.category\" placeholder=\"请选择\">\n            <el-option\n              v-for=\"item in videoCate\"\n              :key=\"item._id\"\n              :label=\"item.name\"\n              :value=\"item._id\"\n            >\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"上传日期\">\n          <el-date-picker\n            v-model=\"model.date\"\n            type=\"date\"\n            format=\"yyyy 年 MM 月 dd 日\"\n            value-format=\"timestamp\"\n            placeholder=\"选择日期\"\n          >\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"播放量\">\n          <el-input v-model=\"model.play\" placeholder=\"请输入视频播放量\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"封面\">\n          <el-upload\n            class=\"avatar-uploader\"\n            :action=\"uploadUrl\"\n            :show-file-list=\"false\"\n            :headers=\"uploadHeaders\"\n            :on-success=\"uploadVideo\"\n            :before-upload=\"beforeUpload\"\n          >\n            <img v-if=\"model.cover\" :src=\"model.cover\" class=\"banner\" />\n            <i v-else class=\"el-icon-plus banner-uploader-icon\"></i>\n          </el-upload>\n        </el-form-item>\n        <el-form-item label=\"视频\">\n          <el-upload\n            class=\"avatar-uploader\"\n            :action=\"uploadUrl\"\n            :show-file-list=\"false\"\n            :headers=\"uploadHeaders\"\n            :on-success=\"uploadVideo\"\n          >\n            <video v-if=\"model.video\" controls :src=\"model.video\" class=\"banner\"></video>\n            <i v-else class=\"el-icon-plus banner-uploader-icon\"></i>\n          </el-upload>\n        </el-form-item>\n      </el-form>\n      <div class=\"save\">\n        <el-button type=\"primary\" @click=\"save\">保存</el-button>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { saveVideo, updateVideo, fetchVideoTwo, fetchVideoItem } from '@/api/resource'\nimport mixins_upload from '@/assets/javascript/mixins_upload'\n\nexport default {\n  name: 'VideoEdit',\n  mixins: [mixins_upload],\n  props: ['id'],\n  data() {\n    return {\n      model: {\n        title: '',\n        category: '',\n        play: '',\n        cover: '',\n        video: '',\n        author: JSON.parse(localStorage.getItem('user'))['name'] || '',\n      },\n      videoCate: [], // 视频分类\n    }\n  },\n  watch: {\n    $route() {\n      if (this.id) {\n        this.fetchVideoItem()\n      } else {\n        this.model.title = ''\n        this.model.play = ''\n        this.model.category = ''\n        this.model.cover = ''\n        this.video = ''\n        this.model.author = ''\n      }\n    },\n  },\n  mounted() {\n    this.id && this.fetchVideoItem()\n    this.fetchVideoTwo()\n  },\n  methods: {\n    // 保存视频\n    async save() {\n      const { title, play, category, author, cover, video, date } = this.model\n      const id = this.id\n      // 名字不能为空\n      if (!title || !play || !category || !cover || !video || !date) {\n        this.$message.error('请将信息填写完整')\n        return\n      }\n      //根据id判断是新建还是编辑\n      let res\n      if (id) {\n        res = await updateVideo({ id, title, play, category, cover, video, date })\n      } else {\n        res = await saveVideo({ title, play, category, author, cover, video, date })\n      }\n      // 该视频已存在\n      if (res.status == 1) {\n        this.$message.error(res.msg)\n        return\n      }\n      this.$message.success(res.msg)\n      this.$router.push('/resource/videoList')\n    },\n    // 获取视频二级分类\n    async fetchVideoTwo() {\n      const res = await fetchVideoTwo()\n      this.videoCate = res.data\n    },\n    // 获取视频详情\n    async fetchVideoItem() {\n      const res = await fetchVideoItem({ id: this.id })\n      this.model = res.data\n    },\n    // 上传文件成功后的回调函数\n    uploadVideo(res) {\n      res = res.data\n      if (res.mimetype.indexOf('video') != -1) {\n        this.model.video = res.url\n      } else {\n        this.model.cover = res.url\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n@import '../../assets/stylus/variable.styl';\n\n#video-edit {\n  .box-card {\n    width: 1000px;\n    margin: 0 auto;\n    box-shadow: none;\n\n    .title {\n      margin-bottom: 30px;\n      font-size: $font-s;\n    }\n\n    .el-form-item {\n      margin-bottom: 30px;\n    }\n\n    .save {\n      text-align: right;\n      margin-top: 30px;\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VideoEdit.vue?vue&type=template&id=2a709ae5&scoped=true&\"\nimport script from \"./VideoEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./VideoEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VideoEdit.vue?vue&type=style&index=0&id=2a709ae5&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a709ae5\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\n\n\n// 新建文章\nexport function saveArticle(data) {\n  return request({\n    url: '/article/add',\n    method: 'post',\n    data\n  })\n}\n\n// 删除文章\nexport function deleteArticle(params) {\n  return request({\n    url: '/article/delete',\n    method: 'delete',\n    params\n  })\n}\n\n// 修改文章\nexport function updateArticle(data) {\n  return request({\n    url: '/article/update',\n    method: 'put',\n    data\n  })\n}\n\n// 获取文章列表\nexport function fetchArticle(params) {\n  return request({\n    url: '/article/list',\n    method: 'get',\n    params\n  })\n}\n\n// 获取文章二级分类\nexport function fetchArticleTwo(params) {\n  return request({\n    url: '/article/cate',\n    method: 'get',\n    params\n  })\n}\n\n// 获取文章详情\nexport function fetchArticleItem(params) {\n  return request({\n    url: '/article/item',\n    method: 'get',\n    params\n  })\n}\n\n// 新建图文\nexport function savePicarticle(data) {\n  return request({\n    url: '/picarticle/add',\n    method: 'post',\n    data\n  })\n}\n\n// 删除图文\nexport function deletePicarticle(params) {\n  return request({\n    url: '/picarticle/delete',\n    method: 'delete',\n    params\n  })\n}\n\n// 修改图文\nexport function updatePicarticle(data) {\n  return request({\n    url: '/picarticle/update',\n    method: 'put',\n    data\n  })\n}\n\n// 获取图文列表\nexport function fetchPicarticle(params) {\n  return request({\n    url: '/picarticle/list',\n    method: 'get',\n    params\n  })\n}\n\n// 获取图文二级分类\nexport function fetchPicarticleTwo(params) {\n  return request({\n    url: '/picarticle/cate',\n    method: 'get',\n    params\n  })\n}\n\n// 获取图文详情\nexport function fetchPicarticleItem(params) {\n  return request({\n    url: '/picarticle/item',\n    method: 'get',\n    params\n  })\n}\n\n// 富文本编辑器文件上传\nexport function uploadEditorFile(data) {\n  return request({\n    url: '/upload/images',\n    method: 'post',\n    data\n  })\n}\n\n// ----- 新建视频 -----\nexport function saveVideo(data) {\n  return request({\n    url: '/video/add',\n    method: 'post',\n    data\n  })\n}\n\n// 删除视频\nexport function deleteVideo(params) {\n  return request({\n    url: '/video/delete',\n    method: 'delete',\n    params\n  })\n}\n\n// 修改视频\nexport function updateVideo(data) {\n  return request({\n    url: '/video/update',\n    method: 'put',\n    data\n  })\n}\n\n// 获取视频列表\nexport function fetchVideo(params) {\n  return request({\n    url: '/video/list',\n    method: 'get',\n    params\n  })\n}\n\n// 获取视频二级分类\nexport function fetchVideoTwo(params) {\n  return request({\n    url: '/video/cate',\n    method: 'get',\n    params\n  })\n}\n\n// 获取视频详情\nexport function fetchVideoItem(params) {\n  return request({\n    url: '/video/item',\n    method: 'get',\n    params\n  })\n}","export default {\n  computed: {\n    // 文件上传地址\n    uploadUrl() {\n      return process.env.VUE_APP_BASE_API ?\n        process.env.VUE_APP_BASE_API + '/upload/images' : '/admin/upload/images'\n    },\n    // 文件上传时的请求头\n    uploadHeaders() {\n      return { 'Authorization': localStorage.getItem('token') || '' }\n    }\n  },\n  methods: {\n    // 文件上传成功的回调函数\n    uploadSuccess(res) {\n      this.model.icon = res.data.url\n    },\n    // 文件上传之前的回调函数\n    beforeUpload(file) {\n      const isJPG = file.type === 'image/jpeg' || file.type === 'image/png';\n      const isLt5M = file.size / 1024 / 1024 < 5;\n\n      if (!isJPG) {\n        this.$message.error('上传图片只能是 JPG或PNG 格式!');\n      }\n      if (!isLt5M) {\n        this.$message.error('上传图片大小不能超过 5MB!');\n      }\n      return isJPG && isLt5M;\n    }\n  }\n}","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoEdit.vue?vue&type=style&index=0&id=2a709ae5&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoEdit.vue?vue&type=style&index=0&id=2a709ae5&lang=stylus&scoped=true&\"","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\n\nvar defineProperty = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nmodule.exports = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !DESCRIPTORS) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}